<!DOCTYPE html><html><head>
<meta charset="utf-8">
    <title>WebMC</title>
    <link rel="icon" href="images/webmc.png">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/loader.css">
    <link rel="stylesheet" href="css/font.css">
</head>
<body>
    <script type="module">
        if ('serviceWorker' in navigator) {
            let swPath = "/assets/js/sw.js";
            let swScope = "/";
            if (location.hostname.includes("discordsays.com")) {
                swPath = `/.proxy${swPath}`;
                swScope = "/.proxy/";
            }
            navigator.serviceWorker
                .register(swPath, { scope: swScope })
                .then((registration) => {
                    console.log('Service Worker registered successfully:', registration);
                    registration.update();
                    registration.addEventListener('statechange', (e) => {
                        if (e.target.state === 'activated') {
                            window.location.reload();
                        }
                    });
                })
                .catch((error) => {
                    console.error('Service Worker registration failed:', error);
                });
        }
        const reg = await navigator.serviceWorker.ready
        reg.update()
    </script>
    <div id="loadermain" class="loader webmc"></div>
    <div class="sidebar">
        <div class="sidebar-user">
            <img src="images/webmc.png" draggable="false">
            <a>WebMC</a>
        </div>
        <div class="sidebar-item sidebar-launcher active" data-id="launcher">
            <img src="images/launcher.png" draggable="false">
            <div class="text">
                <a>EAGLERCRAFT:</a>
                <a>Javascript Edition</a>
            </div>
        </div>
        <div class="sidebar-item sidebar-changelog" data-id="changelog">
            <img src="images/changelog.png" draggable="false">
            <div class="text">
                <a>Changelog</a>
            </div>
        </div>
        <div class="sidebar-item sidebar-discord round" data-href="https://discord.gg/zwcJGuABME" data-id="discord">
            <img src="images/discord.png" draggable="false">
            <div class="text">
                <a>Discord</a>
            </div>
        </div>
        <div class="sidebar-item sidebar-settings" data-id="settings">
            <img src="images/settings.png" draggable="false">
            <a>Settings</a>
        </div>
        <a class="version">v</a>
    </div>
    <div class="content">
        <div class="topbar">
            <a class="ver">Eaglercraft: Javascript Edition</a>
            <div class="topbar-buttons">
                <a id="topbar-play" class="active">Play</a>
                <a id="topbar-installations">Installations</a>
                <a id="topbar-console">Console</a>
            </div>
        </div>
        <img class="title" src="images/title.png" draggable="false">
        <!--<iframe class="game_frame" sandbox="allow-scripts allow-same-origin allow-pointer-lock allow-popups"></iframe>-->
        <div class="bg">
            <div id="loadergame" class="loader webmc"></div>
        </div>
        <div class="dropdown">
        </div>
        <div class="bottombar">
            <div class="dropdown-selector">
                <img class="dropdown-selector-icon" draggable="false">
                <div class="version-info">
                    <a id="title"></a>
                    <a id="version"></a>
                </div>
                <div class="chevron-down"></div>
            </div>
            <button class="game-button play">PLAY</button>
        </div>

        <div class="section side changelog">
            <div class="changelog"></div>
        </div>

        <div class="section side settings">
            <h1>Settings</h1>
        </div>

        <div class="section top installations">
            <button class="newInstall">New Installation</button>
            <form class="installCreation">
                <h2>New Installation</h2>
                <input type="text" id="name" placeholder="Installation Name" data-value="<untitled installation>" required="">
                <input type="text" id="ver" placeholder="Installation Version" data-value="custom" required="">
                <input type="text" id="url" placeholder="Installation URL" data-value="https://example.com" required="">
                <input type="submit" class="createInstall" value="Create">
            </form>
            <ul class="installList"></ul>
        </div>

        <div class="section top console empty">
            <a>No live game detected.</a>
            <a>Start your game to proceed.</a>
        </div>
    </div>

    <div class="notification-container">

    </div>
    <script src="js/script.js"></script>
    <script src="js/settings.js"></script>

</body></html>